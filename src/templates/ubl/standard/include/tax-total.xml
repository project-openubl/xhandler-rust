
    <cac:TaxTotal>
        <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.total | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
        {% if total_impuestos.isc_importe %}
        <cac:TaxSubtotal>
            <cbc:TaxableAmount currencyID="{{moneda}}">{{total_impuestos.isc_base_imponible | round(method="ceil", precision=2) | currency}}</cbc:TaxableAmount>
            <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.isc_importe | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
            <cac:TaxCategory>
                <cac:TaxScheme>
                    <cbc:ID>2000</cbc:ID>
                    <cbc:Name>ISC</cbc:Name>
                    <cbc:TaxTypeCode>EXC</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
        {% if total_impuestos.gravado_base_imponible %}
        <cac:TaxSubtotal>
            <cbc:TaxableAmount currencyID="{{moneda}}">{{total_impuestos.gravado_base_imponible | round(method="ceil", precision=2) | currency}}</cbc:TaxableAmount>
            <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.gravado_importe | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
            <cac:TaxCategory>
                <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifie">S</cbc:ID>
                <cac:TaxScheme>
                    <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">1000</cbc:ID>
                    <cbc:Name>IGV</cbc:Name>
                    <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
        {% if total_impuestos.inafecto_base_imponible %}
        <cac:TaxSubtotal>
            <cbc:TaxableAmount currencyID="{{moneda}}">{{total_impuestos.inafecto_base_imponible | round(method="ceil", precision=2) | currency}}</cbc:TaxableAmount>
            <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.inafecto_importe | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
            <cac:TaxCategory>
                <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifie">S</cbc:ID>
                <cac:TaxScheme>
                    <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">9998</cbc:ID>
                    <cbc:Name>INA</cbc:Name>
                    <cbc:TaxTypeCode>FRE</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
        {% if total_impuestos.exonerado_base_imponible %}
        <cac:TaxSubtotal>
            <cbc:TaxableAmount currencyID="{{moneda}}">{{total_impuestos.exonerado_base_imponible | round(method="ceil", precision=2) | currency}}</cbc:TaxableAmount>
            <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.exonerado_importe | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
            <cac:TaxCategory>
                <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifie">S</cbc:ID>
                <cac:TaxScheme>
                    <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">9997</cbc:ID>
                    <cbc:Name>EXO</cbc:Name>
                    <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
        {% if total_impuestos.gratuito_base_imponible %}
        <cac:TaxSubtotal>
            <cbc:TaxableAmount currencyID="{{moneda}}">{{total_impuestos.gratuito_base_imponible | round(method="ceil", precision=2) | currency}}</cbc:TaxableAmount>
            <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.gratuito_importe | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
            <cac:TaxCategory>
                <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifie">S</cbc:ID>
                <cac:TaxScheme>
                    <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">9996</cbc:ID>
                    <cbc:Name>GRA</cbc:Name>
                    <cbc:TaxTypeCode>FRE</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
        {% if total_impuestos.exportacion_base_imponible %}
        <cac:TaxSubtotal>
            <cbc:TaxableAmount currencyID="{{moneda}}">{{total_impuestos.exportacion_base_imponible | round(method="ceil", precision=2) | currency}}</cbc:TaxableAmount>
            <cbc:TaxAmount currencyID="{{moneda}}">0</cbc:TaxAmount>
            <cac:TaxCategory>
                <cac:TaxScheme>
                    <cbc:ID>9995</cbc:ID>
                    <cbc:Name>EXP</cbc:Name>
                    <cbc:TaxTypeCode>FRE</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
        {% if total_impuestos.ivap_base_imponible %}
        <cac:TaxSubtotal>
            <cbc:TaxableAmount currencyID="{{moneda}}">{{total_impuestos.ivap_base_imponible | round(method="ceil", precision=2) | currency}}</cbc:TaxableAmount>
            <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.ivapImporte | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
            <cac:TaxCategory>
                <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifie">S</cbc:ID>
                <cac:TaxScheme>
                    <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">1016</cbc:ID>
                    <cbc:Name>IVAP</cbc:Name>
                    <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
        {% if total_impuestos.icbImporte %}
        <cac:TaxSubtotal>
            <cbc:TaxAmount currencyID="{{moneda}}">{{total_impuestos.icbImporte | round(method="ceil", precision=2) | currency}}</cbc:TaxAmount>
            <cac:TaxCategory>
                <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifie">S</cbc:ID>
                <cac:TaxScheme>
                    <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">7152</cbc:ID>
                    <cbc:Name>ICBPER</cbc:Name>
                    <cbc:TaxTypeCode>OTH</cbc:TaxTypeCode>
                </cac:TaxScheme>
            </cac:TaxCategory>
        </cac:TaxSubtotal>
        {% endif %}
    </cac:TaxTotal>

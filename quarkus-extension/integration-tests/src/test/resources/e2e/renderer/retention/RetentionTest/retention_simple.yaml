#
# Copyright 2019 Project OpenUBL, Inc. and/or its affiliates
# and other contributors as indicated by the @author tags.
#
# Licensed under the Apache License - 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

---
kind: "Retention"
input:
  moneda: "PEN"
  fechaEmision: "2022-01-31"
  proveedor:
    ruc: "12345678912"
    razonSocial: "Softgreen S.A.C."
  firmante:
    ruc: "12345678912"
    razonSocial: "Softgreen S.A.C."
  numero: 1
  tipoRegimenPorcentaje: 3
  cliente:
    tipoDocumentoIdentidad: "6"
    numeroDocumentoIdentidad: "12121212121"
    nombre: "Carlos Feria"
  operacion:
    numeroOperacion: 1
    fechaOperacion: "2022-01-31"
    importeOperacion: 100
    comprobante:
      moneda: "PEN"
      tipoComprobante: "01"
      serieNumero: "F001-1"
      fechaEmision: "2022-01-31"
      importeTotal: 210
  serie: "R001"
  tipoRegimen: "01"
  importeTotalRetenido: 10
  importeTotalPagado: 200
snapshot: |
  <?xml version="1.0" encoding="ISO-8859-1"?>
  <Retention xmlns="urn:sunat:names:specification:ubl:peru:schema:xsd:Retention-1"
             xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
             xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
             xmlns:ccts="urn:un:unece:uncefact:documentation:2"
             xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
             xmlns:ext="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2"
             xmlns:qdt="urn:oasis:names:specification:ubl:schema:xsd:QualifiedDatatypes-2"
             xmlns:sac="urn:sunat:names:specification:ubl:peru:schema:xsd:SunatAggregateComponents-1"
             xmlns:udt="urn:un:unece:uncefact:data:specification:UnqualifiedDataTypesSchemaModule:2"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <ext:UBLExtensions>
          <ext:UBLExtension>
              <ext:ExtensionContent />
          </ext:UBLExtension>
      </ext:UBLExtensions>
      <cbc:UBLVersionID>2.0</cbc:UBLVersionID>
      <cbc:CustomizationID>1.0</cbc:CustomizationID>
      <cac:Signature>
          <cbc:ID>12345678912</cbc:ID>
          <cac:SignatoryParty>
              <cac:PartyIdentification>
                  <cbc:ID>12345678912</cbc:ID>
              </cac:PartyIdentification>
              <cac:PartyName>
                  <cbc:Name><![CDATA[Softgreen S.A.C.]]></cbc:Name>
              </cac:PartyName>
          </cac:SignatoryParty>
          <cac:DigitalSignatureAttachment>
              <cac:ExternalReference>
                  <cbc:URI>#PROJECT-OPENUBL-SIGN</cbc:URI>
              </cac:ExternalReference>
          </cac:DigitalSignatureAttachment>
      </cac:Signature>
      <cbc:ID>R001-1</cbc:ID>
      <cbc:IssueDate>2022-01-31</cbc:IssueDate>
      <cac:AgentParty>
          <cac:PartyIdentification>
              <cbc:ID schemeID="6">12345678912</cbc:ID>
          </cac:PartyIdentification>
          <cac:PartyLegalEntity>
              <cbc:RegistrationName><![CDATA[Softgreen S.A.C.]]></cbc:RegistrationName>
          </cac:PartyLegalEntity>
      </cac:AgentParty>
      <cac:ReceiverParty>
          <cac:PartyIdentification>
              <cbc:ID schemeID="6">12121212121</cbc:ID>
          </cac:PartyIdentification>
          <cac:PartyLegalEntity>
              <cbc:RegistrationName><![CDATA[Carlos Feria]]></cbc:RegistrationName>
          </cac:PartyLegalEntity>
      </cac:ReceiverParty>
      <sac:SUNATRetentionSystemCode>01</sac:SUNATRetentionSystemCode>
      <sac:SUNATRetentionPercent>3</sac:SUNATRetentionPercent>
      <cbc:TotalInvoiceAmount currencyID="PEN">10</cbc:TotalInvoiceAmount>
      <sac:SUNATTotalPaid currencyID="PEN">200</sac:SUNATTotalPaid>
      <sac:SUNATRetentionDocumentReference>
          <cbc:ID schemeID="01">F001-1</cbc:ID>
          <cbc:IssueDate>2022-01-31</cbc:IssueDate>
          <cbc:TotalInvoiceAmount currencyID="PEN">210</cbc:TotalInvoiceAmount>
          <cac:Payment>
              <cbc:ID>1</cbc:ID>
              <cbc:PaidAmount currencyID="PEN">100</cbc:PaidAmount>
              <cbc:PaidDate>2022-01-31</cbc:PaidDate>
          </cac:Payment>
          <sac:SUNATRetentionInformation>
              <sac:SUNATRetentionAmount currencyID="PEN">10</sac:SUNATRetentionAmount>
              <sac:SUNATRetentionDate>2022-01-31</sac:SUNATRetentionDate>
              <sac:SUNATNetTotalPaid currencyID="PEN">200</sac:SUNATNetTotalPaid>
          </sac:SUNATRetentionInformation>
      </sac:SUNATRetentionDocumentReference>
  </Retention>
